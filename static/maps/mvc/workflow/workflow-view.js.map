{"version":3,"file":"workflow-view.js","sources":["../../../src/mvc/workflow/workflow-view.js"],"names":["define","Utils","Globals","Workflow","WorkflowCanvas","Node","ToolForm","async_save_text","Toastr","reset_tool_search","initValue","tool_menu_frame","$","contents","length","document","this","removeClass","find","hide","show","each","attr","hasClass","search_input","val","NODE_ICONS","tool","data_input","data_collection_input","subworkflow","pause","add_node_icon","$to_el","nodeType","iconStyle","$icon","addClass","before","EditorFormView","Backbone","View","extend","initialize","options","merge","$el","workflowView","node","html","setElement","id","after","_genericStepAttributesTemplate","type","$titleText","data","text","make_text_editable","on_finish","newLabel","lastValue","workflow","attemptUpdateNodeLabel","submit","name","warning","ajaxForm","dataType","success","active_form_has_changes","update_field_data","showWorkflowParameters","beforeSubmit","push","value","tool_state","form","change","bind","_annotationTemplate","annotation","layout_editor","self","layout","fit_canvas_to_nodes","scroll_to_nodes","canvas_manager","draw_overview","edit_workflow_attributes","clear_active_node","show_overview","jStorage","set","css","hide_overview","app","urls","active_ajax_call","close_editor","check_changes_in_active_form","has_changes","do_close","window","onbeforeunload","undefined","location","workflow_index","show_modal","Cancel","hide_modal","Save Changes","save_current_workflow","Don't Save","eventObj","success_callback","show_message","rectify_workflow_outputs","savefn","callback","ajax","url","save_workflow","workflow_data","JSON","stringify","to_simple","_","body","message","errors","errlist","i","v","appendTo","append","stored","Ok","unbind","click","focus","select","keyup","q","timer","clearTimeout","setTimeout","get","tool_search","s","map","n","index","parent","this_label","next","no_visible_tools","is","reset","datatypes","parse","Galaxy","root","async","responseText","datatypes_mapping","ext_to_type","ext_to_class_name","type_to_type","class_to_classes","_workflowLoadAjax","from_simple","upgrade_message","upgrade_messages","k","parseInt","nodes","vv","Continue","ajaxStart","ajaxError","e","x","statusText","Ignore error","make_popupmenu","Save","Run","run_workflow","Edit Attributes","Auto Re-layout","Close","overview_size","width","height","d","op","offsetParent","opo","offset","new_size","Math","max","offsetX","left","offsetY","top","wrap","last_expanded","slideUp","slideDown","$this","storedWorkflowId","stepCount","doCopy","copy_into_workflow","embedLink","workflowId","subworkflowLink","add_node_for_subworkflow","rename_async","annotate_async","remove_all","cv","cc","options_","load_workflow","cache","_moduleInitAjax","request_data","get_new_module_info","global","init_field_data","error","m","status","add_node_for_tool","title","create_node","content_id","add_node_for_module","display_pja","pja","get_pja_form","action_to_rem","closest","children","remove","active_node","post_job_actions","display_pja_list","pja_list","display_file_list","addlist","out_terminal","output_terminals","new_pja","action_type","target","output_name","parameter_re","workflow_parameters","wf_parm_container","wf_parm_box","new_parameter_content","matches","form_matches","form_html","match","concat","action_arguments","action_argument","arg_matches","element","inArray","substring","showToolForm","cls","$container","$current","formView","isJSON","scrollTop","isSubType","child","$newNodeElement","title_text","$f","$title","scrollLeft","$b","prebuildNode","tmp","buttons","destroy","o","position","p","prependTo","activate_node","node_changed","po","y","terminal","redraw"],"mappings":"AAAAA,OAAO,oCACPA,QACI,cACA,gCACA,gCACA,+BACA,6BACA,8BACA,wBACA,cACA,oBACD,SAAUC,EAAOC,EAASC,EAAUC,EAAgBC,EAAMC,EAAUC,EAAiBC,GAGxF,QAASC,GAAmBC,GAGxB,GAAIC,GAAkBC,EAAE,iBAAiBC,UAyBzC,IAxB+B,IAA3BF,EAAgBG,SAChBH,EAAkBC,EAAEG,WAIxBH,EAAEI,MAAMC,YAAY,iBACpBN,EAAgBO,KAAK,cAAcD,YAAY,gBAG/CN,EAAgBO,KAAK,oBAAoBC,OACzCR,EAAgBO,KAAK,cAAcE,OACnCT,EAAgBO,KAAK,mBAAmBE,OACxCT,EAAgBO,KAAK,uBAAuBG,KAAM,WACnB,0BAAvBT,EAAEI,MAAMM,KAAK,MAEbV,EAAEI,MAAMI,OACDR,EAAEI,MAAMO,SAAS,sBACxBX,EAAEI,MAAMI,SAGhBT,EAAgBO,KAAK,sBAAsBC,OAG3CR,EAAgBO,KAAK,mBAAmBC,OACpCT,EAAW,CACX,GAAIc,GAAeb,EAAgBO,KAAK,qBACxCM,GAAaC,IAAI,iBA4HrB,MAxHJC,aACIC,KAAQ,YACRC,WAAc,YACdC,sBAAyB,cACzBC,YAAe,2BACfC,MAAS,YAGbC,cAAgB,SAASC,EAAQC,GAC7B,GAAIC,GAAYT,WAAWQ,EAC3B,IAAGC,EAAW,CACV,GAAIC,GAAQxB,EAAE,iCAAiCyB,SAASF,EACxDF,GAAOK,OAAOF,KAOtBG,eAAiBC,SAASC,KAAKC,QAE3BC,WAAY,SAASC,GACjB5B,KAAK4B,QAAU3C,EAAM4C,MAAMD,KAC3B,IAAIE,GAAMlC,EAAE,UACRmC,EAAeH,EAAQG,aACvBC,EAAOJ,EAAQI,IAOnB,IALGJ,EAAQK,MACPH,EAAIG,KAAKL,EAAQK,MAErBjC,KAAKkC,WAAWJ,GAEZE,GAAmB,WAAXA,EAAKG,GAAiB,CAC9BL,EAAI5B,KAAK,eAAekC,MAAMpC,KAAKqC,+BAAgCL,GACnE,IAAId,GAAWc,EAAKM,IACpBtB,eAAcc,EAAI5B,KAAK,uBAAwBgB,EAC/C,IAAIqB,GAAaT,EAAI5B,KAAK,sBAC1BqC,GAAWC,KAAK,aAAcD,EAAWE,QACzCF,EAAWG,oBACPC,UAAW,SAAUC,GACjB,GAAIC,GAAYN,EAAWC,KAAK,aAChC,IAAII,GAAYC,EAAhB,CAIA,GAAIC,GAAWf,EAAae,QACxBA,GAASC,uBAAwBf,EAAMY,IACvCd,EAAI5B,KAAK,uBAAuBO,IAAImC,GACpCL,EAAWC,KAAK,aAAcI,GAC9Bd,EAAI5B,KAAK,QAAQ8C,SACF,IAAZJ,GAECL,EAAWE,KAAKT,EAAKiB,QAGzBzD,EAAO0D,QAAQ,cAAgBN,EAAW,yCAC1CL,EAAWE,KAAKI,QAI3Bf,EAAI5B,KAAM,QAASJ,OAAS,GAAMgC,EAAI5B,KAAM,QAASiD,UAClDb,KAAM,OACNc,SAAU,OACVC,QAAS,SAAUb,GACfT,EAAae,SAASQ,yBAA0B,EAChDtB,EAAKuB,kBAAmBf,GACxBT,EAAayB,0BAEjBC,aAAc,SAAUjB,GACpBA,EAAKkB,MAAQT,KAAM,aAAcU,MAAO3B,EAAK4B,aAC7CpB,EAAKkB,MAAQT,KAAM,IAAKU,MAAO,YAEpCtD,KAAM,WACL,GAAIwD,GAAO7D,IACXJ,GAAEI,MAAME,KAAK,oCAAoC4D,OAAQ,WACrDlE,EAAEiE,GAAMb,WAEZpD,EAAEI,MAAME,KAAK,mCAAmC4D,OAAQ,WACpDlE,EAAEiE,GAAMb,WAEZpD,EAAEI,MAAME,KAAK,2BAA2BG,KAAM,WAC1CT,EAAEI,MAAM+D,KAAK,cAAe,WACxBhC,EAAae,SAASQ,yBAA0B,UAQpEjB,+BAAgC,SAAUL,GACtC,MAAQ,yFAKQhC,KAAKgE,oBAAoBhC,GAC7B,cAIhBgC,oBAAqB,SAAUhC,GAC3B,MAAO,qJAIKA,EAAKiC,WACT,2JAaLzC,SAASC,KAAKC,QACjBC,WAAY,SAASC,GAoRjB,QAASsC,KACLC,EAAKrB,SAASsB,SACdD,EAAKrB,SAASuB,sBACdF,EAAKG,kBACLH,EAAKI,eAAeC,gBAGxB,QAASC,KACLN,EAAKrB,SAAS4B,oBACd9E,EAAE,kBAAkBO,OACpBP,EAAE,oBAAoBQ,OA4B1B,QAASuE,KACL/E,EAAEgF,SAASC,IAAI,gBAAgB,GAC/BjF,EAAE,oBAAoBkF,IAAI,QAAS,OACnClF,EAAE,mBAAmBkF,IAAI,sBAAuB,WAGpD,QAASC,KACLnF,EAAEgF,SAASC,IAAI,gBAAgB,GAC/BjF,EAAE,oBAAoBkF,IAAI,QAAS,WACnClF,EAAE,mBAAmBkF,IAAI,sBAAuB,YAlUpD,GAAIX,GAAOjF,EAAQ8F,IAAMhF,IACzBA,MAAK4B,QAAUA,EACf5B,KAAKiF,KAAOrD,GAAWA,EAAQqD,SAC/BjF,KAAKkF,kBAAmB,CACxB,IAAIC,GAAe,WACfhB,EAAKrB,SAASsC,+BACTtC,UAAYqB,EAAKrB,SAASuC,aAC3BC,SAAW,WACPC,OAAOC,eAAiBC,OACxBF,OAAOxF,SAAS2F,SAAWvB,EAAKc,KAAKU,gBAEzCJ,OAAOK,WAAY,wBACP,kEAEIC,OAAWC,WACXC,eAAiB,WACbC,EAAuB,KAAMV,aAGjCW,aAAcX,YAG9BC,OAAOxF,SAAS2F,SAAWvB,EAAKc,KAAKU,gBAGzCK,EAAwB,SAAWE,EAAUC,GAG7C,GAFAC,aAAc,kBAAmB,YACjCjC,EAAKrB,SAASsC,gCACTjB,EAAKrB,SAASuC,YAKf,MAJAS,mBACKK,GACDA,IAIRhC,GAAKrB,SAASuD,0BACd,IAAIC,GAAS,SAASC,GAClB3G,EAAE4G,MACEC,IAAKtC,EAAKc,KAAKyB,cACfpE,KAAM,OACNE,MACIL,GAAIgC,EAAKvC,QAAQO,GACjBwE,cAAe,WAAa,MAAOC,MAAKC,UAAW1C,EAAKrB,SAASgE,cACjEC,EAAK,QAET3D,SAAU,OACVC,QAAS,SAAUb,GACf,GAAIwE,GAAOpH,EAAE,eAAe6C,KAAMD,EAAKyE,QACvC,IAAKzE,EAAK0E,OAAS,CACfF,EAAK3F,SAAU,cACf,IAAI8F,GAAUvH,EAAG,QACjBA,GAAES,KAAMmC,EAAK0E,OAAQ,SAAUE,EAAGC,GAC9BzH,EAAE,aAAa6C,KAAM4E,GAAIC,SAAUH,KAEvCH,EAAKO,OAAQJ,OAEbH,GAAK3F,SAAU,WAEnB8C,GAAKrB,SAASG,KAAOT,EAAKS,KAC1BkB,EAAKrB,SAASuC,aAAc,EAC5BlB,EAAKrB,SAAS0E,QAAS,EACvBrD,EAAKX,yBACAhB,EAAK0E,OACN3B,OAAOK,WAAY,kBAAmBoB,GAAQS,GAAO3B,cAEjDS,GACAA,IAEJT,iBAQZ3B,GAAKe,iBACLtF,EAAEG,UAAUgE,KAAK,yBAA0B,WACvCnE,EAAEG,UAAU2H,OAAO,0BACnBpB,IACA1G,EAAEG,UAAU2H,OAAO,0BACnBvD,EAAKe,kBAAmB,IAG5BoB,EAAOH,GAKfvG,GAAE,sBAAsB+H,MAAO,WAC3B/H,EAAEI,MAAM4H,QACRhI,EAAEI,MAAM6H,WAEXC,MAAO,WAIJ,GAFAlI,EAAEI,MAAM8E,IAAI,aAAc,UAErB9E,KAAK2D,MAAM7D,OAAS,EACrBL,GAAkB,OACf,IAAKO,KAAK2D,OAAS3D,KAAK6C,UAAY,CAEvCjD,EAAEI,MAAMqB,SAAS,gBAGjB,IAAI0G,GAAI/H,KAAK2D,KAET3D,MAAKgI,OACLC,aAAajI,KAAKgI,OAGtBpI,EAAE,mBAAmBQ,OACrBJ,KAAKgI,MAAQE,WAAW,WACpBtI,EAAEuI,IAAIhE,EAAKc,KAAKmD,aAAeL,EAAGA,GAAK,SAAUvF,GAQ7C,GALA5C,EAAE,sBAAsBO,OAExBP,EAAE,uBAAuBO,OAEzBP,EAAE,uBAAuBM,KAAK,cAAcC,OACxB,GAAfqC,EAAK1C,OAAc,CAEpB,GAAIuI,GAAIzI,EAAE0I,IAAK9F,EAAM,SAAU+F,GAAS,MAAO,QAAUA,GAEzD3I,GAAEyI,GAAGhI,KAAM,SAASmI,EAAMrG,GAEtBvC,EAAE,QAAQuC,EAAG,MAAMsG,SAASpH,SAAS,gBACrCzB,EAAE,QAAQuC,EAAG,MAAMsG,SAASrI,OAAOqI,SAASA,SAASrI,OAAOqI,SAASrI,SAGzER,EAAE,mBAAmBS,KAAM,WAKxB,IAJA,GAAIqI,GAAa9I,EAAEI,MACf2I,EAAOD,EAAWC,OAClBC,GAAmB,EAEA,IAAhBD,EAAK7I,QAAgB6I,EAAKpI,SAAS,cAAc,CACpD,GAAIoI,EAAKE,GAAG,YAAa,CACrBD,GAAmB,CACnB,OAEAD,EAAOA,EAAKA,OAGfC,GACAF,EAAWvI,aAInBP,GAAE,sBAAsBQ,MAE5BR,GAAE,mBAAmBO,QACtB,SACJ,KAEPH,KAAK6C,UAAY7C,KAAK2D,QAI1B3D,KAAKuE,eAAiBrF,EAAQqF,eAAiB,GAAInF,GAAgBY,KAAMJ,EAAE,oBAAqBA,EAAE,cAGlGI,KAAK8I,QAGL9I,KAAK+I,UAAYnC,KAAKoC,MAAMpJ,EAAE4G,MAC1BC,IAAUwC,OAAOC,KAAO,gBACxBC,OAAU,IACXC,cAGHpJ,KAAKqJ,kBAAoBzC,KAAKoC,MAAMpJ,EAAE4G,MAClCC,IAAUwC,OAAOC,KAAO,wBACxBC,OAAU,IACXC,cAGHpJ,KAAKsJ,YAActJ,KAAKqJ,kBAAkBE,kBAC1CvJ,KAAKwJ,aAAexJ,KAAKqJ,kBAAkBI,iBAG3CzJ,KAAK0J,kBAAkBvF,EAAKvC,QAAQO,IAChCkB,QAAS,SAAUb,GACd2B,EAAK2E,QACL3E,EAAKrB,SAAS6G,YAAanH,GAAM,GACjC2B,EAAKrB,SAASuC,aAAc,EAC5BlB,EAAKrB,SAASuB,sBACdF,EAAKG,kBACLH,EAAKI,eAAeC,gBAEpBoF,gBAAkB,GAClBhK,EAAES,KAAMmC,EAAKqH,iBAAkB,SAAUC,EAAGzC,GACzCuC,iBAAqB,aAAgBG,SAASD,EAAG,IAAM,GAAM,KAAO3F,EAAKrB,SAASkH,MAAMF,GAAG7G,KAAO,OAClGrD,EAAES,KAAMgH,EAAG,SAAUD,EAAG6C,GACpBL,iBAAmB,OAASK,EAAI,UAEpCL,iBAAmB,eAEjBA,gBACFrE,OAAOK,WAAY,+BACP,kJAAoJgE,gBAAkB,SACpKM,SAAapE,aAE3BA,aAEH3B,EAAKX,0BAETC,aAAc,WACV2C,aAAc,mBAAoB,eAK3CxG,EAAEG,UAAUoK,UAAW,WACnBhG,EAAKe,kBAAmB,EACxBtF,EAAEG,UAAUgE,KAAM,kBAAmB,WACjCI,EAAKe,kBAAmB,MAIhCtF,EAAEG,UAAUqK,UAAW,SAAWC,EAAGC,GAEjC,GAAIrD,GAAUqD,EAAElB,cAAgBkB,EAAEC,YAAc,6BAEhD,OADAhF,QAAOK,WAAY,eAAgBqB,GAAWuD,eAAiB1E,cACxD,IAGXP,OAAOkF,gBAAkBA,eAAgB7K,EAAE,6BACvC8K,KAAS1E,EACT2E,IAAO,WACHpF,OAAOG,SAAWvB,EAAKc,KAAK2F,cAGhCC,kBAAoBpG,EAEpBqG,iBAAkB5G,EAElB6G,MAAS5F,IAqDb6F,cAAgBpL,EAAEgF,SAASuD,IAAI,iBACT1C,SAAlBuF,eACApL,EAAE,oBAAoBkF,KAClBmG,MAAOD,cACPE,OAAQF,gBAKZpL,EAAEgF,SAASuD,IAAI,gBACfpD,IAEAJ,IAIJ/E,EAAE,oBAAoBmE,KAAM,UAAW,SAAUsG,EAAGc,GAChD,GAAIC,GAAKxL,EAAEI,MAAMqL,eACbC,EAAMF,EAAGG,SACTC,EAAWC,KAAKC,IAAKN,EAAGH,SAAYE,EAAEQ,QAAUL,EAAIM,MAC/BR,EAAGF,UAAaC,EAAEU,QAAUP,EAAIQ,KACzDlM,GAAEgF,SAASC,IAAI,gBAAiB2G,EAAW,QAgB/C5L,EAAE,mBAAmB+H,MAAO,WACoB,QAAvC/H,EAAE,oBAAoBkF,IAAI,SAC3BC,IAEAJ,MAKRY,OAAOC,eAAiB,WACpB,MAAK1C,WAAYqB,EAAKrB,SAASuC,YACpB,iEADX,QAMJzF,EAAG,uBAAwBO,OAC3BP,EAAG,+BAAgCmM,KAAM,mBACzC,IAAIC,GAAgB,IACpBpM,GAAG,wBAAyBS,KAAM,WAC/B,GAAI2G,GAAOpH,EAAEI,MAAM2I,KAAM,sBACzB/I,GAAEI,MAAM2H,MAAO,WACNX,EAAK6B,GAAI,YACLmD,GAAgBA,EAAcC,QAAS,QAC5CD,EAAgBhF,EAChBA,EAAKkF,UAAW,UAGhBlF,EAAKiF,QAAS,QACdD,EAAgB,UAI3BpM,EAAE,oBAAoBS,KAAK,WACvB,GAAI8L,GAAQvM,EAAEI,MACVoM,EAAmBD,EAAM3J,KAAK,sBAC9B6J,EAAYF,EAAM3J,KAAK,uBACvB8J,EAAS,WAAanI,EAAKoI,mBAAmBH,EAAkBD,EAAM1J,QAASqD,cAC/E0G,EAAY5M,EAAE,oDAAoD+H,MAAM,WACrEoC,SAASsC,GAAa,EACrBC,IAGA/G,OAAOK,WAAY,UACX,kBAAoByG,EAAY,kCAC9BxG,OAAWC,WACX2B,GAAM6E,KAGxBH,GAAM/J,MAAMoK,EAEZ,IAAIC,GAAaN,EAAM3J,KAAK,eACxBkK,EAAkB9M,EAAE,oDAAoD+H,MAAM,WAC9ExD,EAAKwI,yBAAyBF,EAAYN,EAAM1J,SAEpD0J,GAAM/J,MAAMsK,KAIhBnN,EAAgB,gBAAiB,gBAAiB4E,EAAKc,KAAK2H,aAAc,YAG1EhN,EAAE,iBAAiB+H,MAAO,WAEtB,MADA/H,GAAE,aAAa+H,SACR,IAGXpI,EAAgB,sBAAuB,sBAAuB4E,EAAKc,KAAK4H,eAAgB,iBAAkB,IAAI,EAAM,IAGxHN,mBAAoB,SAASE,GAEzB,GAAItI,GAAOnE,IAEXA,MAAK0J,kBAAkB+C,GACnBpJ,QAAS,SAAUb,GACf2B,EAAKrB,SAAS6G,YAAanH,GAAM,GAEjCoH,gBAAkB,GAClBhK,EAAES,KAAMmC,EAAKqH,iBAAkB,SAAUC,EAAGzC,GACzCuC,iBAAqB,aAAgBG,SAASD,EAAG,IAAM,GAAM,KAAO3F,EAAKrB,SAASkH,MAAMF,GAAG7G,KAAO,OAClGrD,EAAES,KAAMgH,EAAG,SAAUD,EAAG6C,GACpBL,iBAAmB,OAASK,EAAI,UAEpCL,iBAAmB,eAEjBA,gBACFrE,OAAOK,WAAY,oCACP,kJAAoJgE,gBAAkB,SACpKM,SAAapE,aAE3BA,cAGPrC,aAAc,WACX2C,aAAc,qBAAsB,gBAM/C0C,MAAO,WACE9I,KAAK8C,UACN9C,KAAK8C,SAASgK,aAElB9M,KAAK8C,SAAW5D,EAAQ4D,SAAW,GAAI3D,GAAUa,KAAMJ,EAAE,uBAG7D0E,gBAAiB,WACb,GAEIwH,GAAKF,EAFLmB,EAAKnN,EAAE,oBACPoN,EAAKpN,EAAE,oBAGPgM,GADCoB,EAAG/B,QAAU8B,EAAG9B,SACR8B,EAAG9B,QAAU+B,EAAG/B,SAAY,EAE9B,EAGPa,EADCkB,EAAG9B,SAAW6B,EAAG7B,UACV6B,EAAG7B,SAAW8B,EAAG9B,UAAa,EAEhC,EAEV8B,EAAGlI,KAAO8G,KAAMA,EAAME,IAAKA,KAG/BpC,kBAAmB,SAAS+C,EAAYQ,GACpC,GAAIrL,GAAU3C,EAAM4C,MAAMoL,GACtBxG,IAAKzG,KAAKiF,KAAKiI,cACf1K,MAAQL,GAAIsK,EAAY1F,EAAK,QAC7B3D,SAAU,OACV+J,OAAO,GAEXvN,GAAE4G,KAAK5E,IAGXwL,gBAAiB,SAASpL,EAAMqL,GAC5BzN,EAAE4G,MACEC,IAAKzG,KAAKiF,KAAKqI,oBACf9K,KAAM6K,EACNE,QAAQ,EACRnK,SAAU,OACVC,QAAS,SAAUb,GACfR,EAAKwL,gBAAiBhL,IAE1BiL,MAAO,SAAUnD,GACb,GAAIoD,GAAI,0BACU,KAAbpD,EAAEqD,SACHD,GAAK,wBAET1L,EAAKyL,MAAOC,OAMxBE,kBAAmB,SAAWzL,EAAI0L,GAC9B7L,KAAOhC,KAAK8C,SAASgL,YAAa,OAAQD,EAAO1L,GACjDnC,KAAKoN,gBAAgBpL,MAAQM,KAAM,OAAQyL,WAAY5L,EAAI4E,EAAK,UAIpE4F,yBAA0B,SAAWxK,EAAI0L,GACrC7L,KAAOhC,KAAK8C,SAASgL,YAAa,cAAeD,EAAO1L,GACxDnC,KAAKoN,gBAAgBpL,MAAQM,KAAM,cAAeyL,WAAY5L,EAAI4E,EAAK,UAG3EiH,oBAAqB,SAAW1L,EAAMuL,GAClC7L,KAAOhC,KAAK8C,SAASgL,YAAaxL,EAAMuL,GACxC7N,KAAKoN,gBAAgBpL,MAAQM,KAAMA,EAAMyE,EAAK,UAIlDkH,YAAa,SAAUC,EAAKlM,GAExB,GAAImC,GAAOnE,IACXJ,GAAE,kBAAkB2H,OAAQ4G,aAAaD,EAAKlM,IAC9CpC,EAAE,yDAAyD+H,MAAM,WAC7DyG,cAAgBxO,EAAEI,MAAMqO,QAAQ,YAAa,eAAeC,SAAS,qBAAqB7L,OAC1F7C,EAAEI,MAAMqO,QAAQ,aAAaE,eACtBpK,GAAKrB,SAAS0L,YAAYC,iBAAiBL,eAClDjK,EAAKrB,SAASQ,yBAA0B,KAIhDoL,iBAAkB,WACd,MAAOC,WAGXC,kBAAmB,SAAU5M,GACzB6M,QAAU,oDACV,KAAK,GAAIC,KAAgB9M,GAAK+M,iBAC1BF,SAAW,kBAAoBC,EAAe,KAAMA,EAAc,WAGtE,OADAD,UAAW,YACJA,SAGXG,QAAS,SAAUC,EAAaC,EAAQlN,GAKpC,GAJ8ByD,SAA1BzD,EAAKyM,mBAELzM,EAAKyM,qBAEyChJ,SAA9CzD,EAAKyM,iBAAiBQ,EAAYC,GAAuB,CACzD,GAAIF,KAOJ,OANAA,GAAQC,YAAcA,EACtBD,EAAQG,YAAcD,EACtBlN,EAAKyM,iBAAiBQ,EAAYC,GAAU,KAC5ClN,EAAKyM,iBAAiBQ,EAAYC,GAAWF,EAC7Cf,YAAYe,EAAShN,GACrBhC,KAAK8C,SAASQ,yBAA0B,GACjC,EAEP,OAAO,GAIfE,uBAAwB,WACpB,GAAI4L,GAAe,aACfC,KACAC,EAAoB1P,EAAE,kCACtB2P,EAAc3P,EAAE,4BAChB4P,EAAwB,GACxBC,IACJ7P,GAAES,KAAKL,KAAK8C,SAASkH,MAAO,SAAUF,EAAG9H,GACrC,GAAI0N,GAAe1N,EAAK2N,UAAUC,MAAMR,EACpCM,KACAD,EAAUA,EAAQI,OAAOH,IAEzB1N,EAAKyM,mBACL7O,EAAES,KAAK2B,EAAKyM,iBAAkB,SAAS3E,EAAGoE,GAClCA,EAAI4B,kBACJlQ,EAAES,KAAK6N,EAAI4B,iBAAkB,SAAShG,EAAGiG,GACrC,GAAIC,GAAcD,EAAgBH,MAAMR,EACpCY,KACAP,EAAUA,EAAQI,OAAOG,QAKrCP,GACA7P,EAAES,KAAKoP,EAAS,SAAS3F,EAAGmG,GACwB,KAA5CrQ,EAAEsQ,QAAQD,EAASZ,IACnBA,EAAoB3L,KAAKuM,QAMzCZ,GAAsD,IAA/BA,EAAoBvP,QAC3CF,EAAES,KAAKgP,EAAqB,SAASvF,EAAGmG,GACpCT,GAAyB,QAAUS,EAAQE,UAAU,EAAGF,EAAQnQ,OAAQ,GAAK,WAEjFwP,EAAkBrN,KAAKuN,GACvBD,EAAYnP,SAEZkP,EAAkBrN,KAAKuN,GACvBD,EAAYpP,SAIpBiQ,aAAc,SAAW3N,EAAMT,GAE3B,GAAIqO,GAAM,gBACNlO,EAAMkO,EAAM,IAAMrO,EAAKG,GAGvBmO,EAAa1Q,EAAE,IAAMyQ,GAGrBE,EAAWD,EAAWpQ,KAAK,IAAMiC,EAMrC,IALIoO,EAASzQ,OAAS,GAA6C,GAAxCyQ,EAASrQ,KAAK,gBAAgBJ,QACrDyQ,EAAShC,SAI2B,GAApC+B,EAAWpQ,KAAK,IAAMiC,GAAIrC,OAAa,CACvC,GAAIgC,GAAMlC,EAAE,YAAcuC,EAAK,YAAckO,EAAM,OAC/CG,EAAW,IACf,IAAiB,QAAbxO,EAAKM,MAAkBrD,EAAMwR,OAAOhO,GAAO,CAC3C,GAAIb,GAAUgF,KAAKoC,MAAMvG,EACzBb,GAAQI,KAAOA,EACfJ,EAAQmH,UAAY/I,KAAK+I,UACzByH,EAAW,GAAIlR,GAASmC,KAAKG,OAC1B,CACH,GAAIA,IACAK,KAAMQ,EACNT,KAAMA,EACND,aAAc/B,KAElBwQ,GAAW,GAAIjP,gBAAeK,GAElCE,EAAIyF,OAAOiJ,EAAS1O,KACpBwO,EAAW/I,OAAOzF,GAItBlC,EAAE,IAAMyQ,GAAKlQ,OAGbmQ,EAAWpQ,KAAK,IAAMiC,GAAI/B,OAC1BkQ,EAAWlQ,OACXkQ,EAAWI,aAGfC,UAAW,SAAWC,EAAOnI,GAGzB,MAFAmI,GAAQ5Q,KAAKsJ,YAAYsH,GACzBnI,EAASzI,KAAKsJ,YAAYb,GACjBzI,KAAKwJ,aAAaoH,IAAcnI,IAAUzI,MAAKwJ,aAAaoH,IAGzEC,gBAAiB,SAASvO,EAAMwO,GAC5B,GAAIC,GAAKnR,EAAE,iDACPoR,EAASpR,EAAE,mEAAqEkR,EAAa,eACjG9P,eAAcgQ,EAAO9Q,KAAK,cAAeoC,GACzCyO,EAAGxJ,OAAQyJ,GACXD,EAAGjM,IAAK,OAAQlF,EAAE2F,QAAQ0L,aAAe,IACzCF,EAAGjM,IAAK,MAAOlF,EAAE2F,QAAQmL,YAAc,GACvC,IAAIQ,GAAKtR,EAAE,mCAEX,OADAmR,GAAGxJ,OAAO2J,GACHH,GAGXI,aAAc,SAAW7O,EAAMwO,EAAY/C,GACvC,GAAI5J,GAAOnE,KACP+Q,EAAK/Q,KAAK6Q,gBAAiBvO,EAAMwO,GACjC9O,EAAO,GAAI3C,GAAMW,MAAQiQ,QAASc,GACtC/O,GAAKM,KAAOA,EACZN,EAAK+L,WAAaA,CAClB,IAAIqD,GAAM,6CAA+CnI,OAAOC,KAAO,wEACvE6H,GAAG7Q,KAAK,iBAAiBqH,OAAO6J,GAChCpP,EAAK2N,UAAYyB,CAGjB,IAAIC,GAAUzR,EAAE,oDAChByR,GAAQ9J,OAAQ3H,EAAE,UAAUyB,SAAS,8BAA8BsG,MAAO,WACtE3F,EAAKsP,aAGTP,EAAGzJ,SAAU,oBAEb,IAAIiK,GAAI3R,EAAE,qBAAqB4R,WAC3BC,EAAI7R,EAAE,qBAAqB6I,SAC3BwC,EAAQ8F,EAAG9F,QACXC,EAAS6F,EAAG7F,QAwBhB,OAvBA6F,GAAGjM,KAAO8G,MAAU2F,EAAE3F,KAAW6F,EAAExG,QAAU,EAAQA,EAAQ,EAAKa,KAASyF,EAAEzF,IAAU2F,EAAEvG,SAAW,EAAQA,EAAS,IACrHmG,EAAQK,UAAWX,EAAG7Q,KAAK,mBAC3B+K,GAAWoG,EAAQpG,QAAU,GAC7B8F,EAAGjM,IAAK,QAASmG,GACjB8F,EAAGhN,KAAM,YAAa,WAClBI,EAAKrB,SAAS6O,cAAe3P,KAC9B+B,KAAM,UAAW,WAChBI,EAAKrB,SAAS8O,aAAc5R,MAC5BmE,EAAKrB,SAASuB,sBACdF,EAAKI,eAAeC,kBACrBT,KAAM,gBAAiB,WACtBI,EAAKrB,SAAS6O,cAAe3P,KAC9B+B,KAAM,OAAQ,SAAUsG,EAAGc,GAE1B,GAAI0G,GAAKjS,EAAEI,MAAMqL,eAAeE,SAC5BjB,EAAIa,EAAEQ,QAAUkG,EAAGjG,KACnBkG,EAAI3G,EAAEU,QAAUgG,EAAG/F,GACvBlM,GAAEI,MAAM8E,KAAO8G,KAAMtB,EAAGwB,IAAKgG,IAE7BlS,EAAEI,MAAME,KAAM,aAAcG,KAAM,WAC9BL,KAAK+R,SAASC,aAGfhQ"}